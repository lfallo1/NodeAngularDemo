<div id="search-mode-btn-wrapper" class="btn-group col-md-12">
    <div id="search-mode-labels-wrapper">
        <label id="search-mode-button" class="btn btn-default" ng-model="searchMode" uib-btn-radio="TEXT_SEARCH" uncheckable>Search by Text</label>
        <label id="popular-search-mode-button" class="btn btn-default" ng-model="searchMode" uib-btn-radio="POPULAR_SEARCH" uncheckable><span class="glyphicon glyphicon-star"></span>Search Popular</label>
    </div>
</div>

<div id="textbox-container" class="form-group col-md-6 col-md-offset-3">

    <form ng-show="searchMode === TEXT_SEARCH" ng-submit="doSearch()">
        <div class="input-group">
            <input class="form-control" type="text" ng-model="searchParam" placeholder="search term here..." autofocus />
            <div id="searchButton" ng-if="!fetching" class="notta-button input-group-addon" ng-click="doSearch()"><span class="glyphicon glyphicon-search"></span>Search</div>
            <div id="stopButton" ng-if="fetching" class="notta-button input-group-addon" ng-click="interrupt()"><span class="glyphicon glyphicon-stop"></span>Stop</div>
        </div>
    </form>

    <div id="progress-bar-container" ng-if="fetching">
        <uib-progressbar class="progress-striped active" max="100" value="100" type="primary"><i>Fetching results...</i></uib-progressbar>
        <uib-alert class="longer-search-warning" ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">{{alert.msg}}</uib-alert>
    </div>
    <div id="results-label-container" class="row" ng-if="searchResults.length > 0">
        <div class="form-group col-md-12 text-center">
            <div id="search-results-header">
                Total results: <span id="totalResults">{{searchResults.length}}</span><br />
                <span class="filtered-results">Filtered results: {{filteredResults.length}}</span>
            </div>
            <div id="reset-results" class="btn btn-danger" ng-click="reset()"><span class="glyphicon glyphicon-retweet"></span> Reset results</div>
            <div ng-show="!fetching" id="open-report-button" class="btn btn-primary" ng-click="openReportModal()"><span class="glyphicon glyphicon-list-alt"></span> Search Results Summary</div>
            <div id="download-json-results" ng-show="searchResults.length > 0 && saveUrl && !fetching"><a ng-href="{{saveUrl}}" download="{{saveName}}"><span class="glyphicon glyphicon-download"></span> Download results as json</a></div>
        </div>
    </div>
    <div ng-show="searchMode === POPULAR_SEARCH" id="search-popular-wrapper" class="row">
        <div id="countries-dropdown-wrapper" class="col-md-6">
            <select id="countries-list" name="countries" class="form-control"
                    ng-model="selectedCountry"
                    ng-options="country.name for country in countries"
                    ng-change="updateCategories()"
                    placeholder="Select a country">
                <option value="">Select a country</option>
            </select>
        </div>
        <div id="categories-dropdown-wrapper" class="col-md-6">
            <select id="categories-list" name="categories" class="form-control"
                    ng-model="selectedCategory"
                    ng-options="category as category.snippet.title for category in videoCategories">
            </select>
        </div>
        <div id="search-popular-button-wrapper" class="col-md-12">
            <div ng-if="!fetching" class="btn btn-default btn-lg" ng-click="searchPopular()"><span class="glyphicon glyphicon-search"></span>Perform search</div>
            <div ng-if="fetching" class="btn btn-danger btn-lg" ng-click="interrupt()"><span class="glyphicon glyphicon-stop"></span>Stop</div>
        </div>
    </div>
</div>
